

version: 2

models:
    - name: stg_encounter
      description: "Each row is a single encounter for a single patient"
      columns:
          - name: encounter_id
            description: "Unique encounter id"
            tests:
                - unique
                - not_null
          - name: patient_id
            description: "Unique patient id"
            tests:
                - not_null
                - relationships:
                    to: ref('stg_patient')
                    field: patient_id
          - name: encounter_start_date
            description: "Encounter start date"
            tests:
                - not_null
          - name: encounter_end_date
            description: "Encounter end date"
            tests:
                - not_null
          - name: encounter_type
            description: "Encounter type"
            tests:
                - not_null